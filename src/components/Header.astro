---
const pathname = Astro.url.pathname;

const links = [
  { href: "/", label: "Home" },
  { href: "/blog/", label: "Blog" },
  { href: "/projects/", label: "Projects" },
];

function isActive(href: string) {
  if (href === "/") return pathname === "/";
  return pathname.startsWith(href);
}
---

<header
  class="fixed top-0 left-0 right-0 z-50 backdrop-blur-[20px]"
  style={`background-color: rgba(10,10,10,0.8); border-bottom: 1px solid var(--color-border);`}
>
  <nav class="mx-auto flex max-w-4xl items-center justify-between px-6 py-4">
    <a href="/" class="text-xl font-bold" style={`color: var(--color-fg-bold);`}>ACL</a>
    <ul class="flex gap-1">
      {links.map((link) => (
        <li>
          <a
            href={link.href}
            class:list={[
              "nav-link",
              isActive(link.href) && "nav-link-active",
            ]}
          >
            {link.label}
          </a>
        </li>
      ))}
    </ul>
  </nav>
</header>
